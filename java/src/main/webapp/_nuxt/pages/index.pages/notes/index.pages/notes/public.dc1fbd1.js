(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{244:function(t,e,o){var content=o(250);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(34).default)("37727db9",content,!0,{sourceMap:!1})},245:function(t,e,o){var content=o(253);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(34).default)("c71bccdc",content,!0,{sourceMap:!1})},246:function(t,e,o){var content=o(255);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(34).default)("4d0ffe99",content,!0,{sourceMap:!1})},247:function(t,e,o){"use strict";o(47);var n=o(11),r=(o(10),o(58),{data:function(){return{showMore:!1,hover:!1,loading:!1,star:{favorited:["fas","star"],not_favorited:["far","star"],hover:["fas","star-half-alt"]}}},props:{data:Object,small:Boolean},created:function(){var t=this;this.$nextTick().then((function(){return t.getHights()}))},computed:{is_favorited:function(){return this.data.is_favorited},note:function(){return this.data},date:function(){var t=new Date(this.data.created_at);return t.toLocaleDateString()}},methods:{getHights:function(){if(this.$refs.textContainer&&this.small){var t=this.$refs.textContainer;t.style.maxHeight="auto";var e=window.getComputedStyle(t),o=10*parseFloat(e.lineHeight.replace("px",""))-1;this.showMore=t.clientHeight>o,t.style.maxHeight="".concat(o,"px")}},favorite:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var o,n,data,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.small){e.next=2;break}return e.abrupt("return");case 2:return t.loading=!0,e.next=5,t.$axios.post("/notes/favorite/".concat(t.data.id));case 5:o=e.sent,n=o.data,data=n.data,(r=t.$helper.copyObject(t.data)).is_favorited=data.is_favorited,t.$emit("action",{type:"update",data:r}),t.$swal.fire({toast:!0,type:"success",text:data.is_favorited?"Adicionado aos favoritos!":"Removido dos favoritos!",showConfirmButton:!1,timer:3001,position:"top-end"}),t.loading=!1;case 13:case"end":return e.stop()}}),e)})))()}}}),c=(o(249),o(35)),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container show-card",class:t.small?"card-small":"",style:"background-color: "+(t.note.color||"#fff")},[o("fa",{staticClass:"favorite-star",class:(t.is_favorited?"favorited":"")+" "+(t.loading?"loading":""),attrs:{icon:t.hover?t.star.hover:t.is_favorited?t.star.favorited:t.star.not_favorited},on:{mouseover:function(e){t.hover=!t.small},mouseleave:function(e){t.hover=!1},click:function(e){return t.favorite()}}}),t._v(" "),o("h2",[t._v(t._s(t.note.title))]),t._v(" "),o("pre",{ref:"textContainer",staticClass:"text"},[t._v(t._s(t.note.text))]),t._v(" "),t.showMore?o("pre",[t._v("...")]):t._e(),t._v(" "),o("p",{staticClass:"mb-0",class:t.note.is_public?"text-success":"text-danger"},[o("small",[o("b",{class:t.note.is_public?"text-success":"text-danger"},[t._v(t._s(t.note.is_public?"Público":"Privado"))])])]),t._v(" "),o("small",[t._v("\n    Criado em\n    "),o("b",[t._v(t._s(t.date))]),t._v(" por\n    "),o("b",[t._v(t._s(t.note.user.name))])])],1)}),[],!1,null,null,null);e.a=component.exports},249:function(t,e,o){"use strict";var n=o(244);o.n(n).a},250:function(t,e,o){(e=o(33)(!1)).push([t.i,".show-card{padding:20px;text-align:left!important;position:relative}.text{white-space:pre-wrap;word-break:break-all;font-family:var(--font-family-sans-serif);color:var(--color);font-size:.8rem;margin-bottom:0;font-weight:600;display:block;overflow:hidden;min-height:280px}.card-small .text{min-height:0}.favorite-star{position:relative;float:right;margin-left:20px;cursor:pointer}.favorited{color:gold}.loading{opacity:.5}",""]),t.exports=e},251:function(t,e,o){var content=o(268);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(34).default)("4ebbc29c",content,!0,{sourceMap:!1})},252:function(t,e,o){"use strict";var n=o(245);o.n(n).a},253:function(t,e,o){(e=o(33)(!1)).push([t.i,".color-radio-list{list-style:none;display:flex;padding:0;margin:10px 0 0}.color-radio-list li:not(:first-child){margin-left:10px}.color-radio input{display:none}.color-radio label{border-radius:50%;width:30px;height:30px;margin:0;cursor:pointer}.color-radio>input:checked+label{border:2px solid #6d6d6d}",""]),t.exports=e},254:function(t,e,o){"use strict";var n=o(246);o.n(n).a},255:function(t,e,o){(e=o(33)(!1)).push([t.i,".text-note,.title-note{width:100%;outline:none;border:none;background:none}.title-note{border-bottom:1px solid #d3d3d3;font-size:1.5rem;font-size:bold}.form-footer{display:flex;width:100%;padding:10px;justify-content:space-between;align-items:flex-end}",""]),t.exports=e},256:function(t,e,o){var content=o(270);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(34).default)("e5ed946e",content,!0,{sourceMap:!1})},257:function(t,e,o){var content=o(272);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(34).default)("e242ac4e",content,!0,{sourceMap:!1})},262:function(t,e,o){"use strict";o(5),o(3),o(2),o(1),o(4),o(13),o(59),o(73);var n=o(0),r=(o(167),{name:"note.card",props:["data"],components:{NoteShow:o(247).a},data:function(){return{showMore:!1,note:this.$helper.copyObject(this.data)}},computed:{createdAt:function(){return new Date(this.note.created_at).toLocaleDateString()}},methods:{}}),c=(o(267),o(35)),l=Object(c.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-card",{staticClass:"note shadow",on:{contextmenu:function(e){return e.preventDefault(),t.$router.push("/notes/"+t.note.id)}}},[o("note-show",{attrs:{data:t.note,small:""}})],1)],1)}),[],!1,null,"1f137684",null).exports,d=o(264),f=o(57);function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={props:{notes:Array,filter:String,onlyFavorites:Boolean,noFilter:Boolean},components:{NoteCard:l,NoteModal:d.a},data:function(){return{update:0}},methods:{action:function(t){var e=t.type,data=t.data;switch(e){case"delete":this.notes.splice(o,1);break;case"update":var o=this.notes.findIndex((function(t){return t.id===data.id}));this.$set(this.notes,o,data);break;case"create":this.notes.unshift(data)}this.update++}},computed:v(v({},Object(f.b)(["isAuthenticated","loggedInUser"])),{},{filteredNotes:function(){var t=this;if(!this.filter&&!this.onlyFavorites)return this.notes;var e=this.notes.filter((function(e){return e.user.id==t.loggedInUser.id||e.is_favorited}));return this.onlyFavorites&&(e=e.filter((function(t){return t.is_favorited}))),e.filter((function(e){return e.title.includes(t.filter)||e.text.includes(t.filter)||e.user.name.includes(t.filter)}))}})},x=(o(271),Object(c.a)(m,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("note-modal",{ref:"noteModal",on:{action:t.action}}),t._v(" "),o("masonry",{key:t.update,attrs:{gutter:20,cols:{default:4,1e3:3,700:2,400:1}}},t._l(t.filteredNotes,(function(e){return o("note-card",{key:e.id,staticClass:"note-card-item",attrs:{data:e},nativeOn:{click:function(o){return t.$refs.noteModal.edit(e)}}})})),1)],1)}),[],!1,null,null,null));e.a=x.exports},263:function(t,e,o){"use strict";o(47);var n=o(11),r={props:{value:String,colors:Object},data:function(){return{color:this.value}},methods:{update:function(){this.$emit("input",this.color)}}},c=(o(252),o(35)),l={components:{ColorsSelect:Object(c.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ul",{staticClass:"color-radio-list"},t._l(t.colors,(function(e,n){return o("li",{key:n,staticClass:"color-radio"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.color,expression:"color"}],attrs:{type:"radio",id:n},domProps:{value:e,checked:t._q(t.color,e)},on:{change:[function(o){t.color=e},t.update]}}),t._v(" "),o("label",{staticClass:"shadow",style:"background: "+e,attrs:{for:n}})])})),0)}),[],!1,null,null,null).exports},props:["data"],data:function(){var t={title:"",text:"",is_public:!1,color:"#fff"};return{edit:this.$helper.tryCopy(this.data,t),fields:t,is_loading:!1,colors:{white:"#fff",red:"#e74c3c2e",blue:"#3498db2e",green:"#59b6712e"}}},methods:{save:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var o,n,data,r,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.data?"update":"create",t.loading(!0),e.prev=2,e.next=5,t.$axios({method:"create"==o?"POST":"PATCH",data:t.edit,url:"/notes/".concat(t.edit.id||"")});case 5:n=e.sent,data=n.data,t.$swal.fire({toast:!0,type:"success",text:"Salvo!",showConfirmButton:!1,timer:3001,position:"top-end"}),t.$emit("action",{type:o,data:data.data}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),(r=e.t0.response)?(c=r.status,l=r.statusText,r.data,400==c&&(l="A nota não pode estar em branco!"),t.$swal.fire({title:c,type:"error",text:l,timer:5e3})):t.$swal.fire({title:"Internal Error",type:"error",text:"Tente novamente mais tarde.",timer:5e3});case 15:return e.prev=15,t.loading(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,11,15,18]])})))()},confirmRemove:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var o,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$swal.fire({title:"Você tem certeza?",text:"Esta ação não pode ser desfeita!",type:"warning",showCancelButton:!0,confirmButtonText:"Sim,pode deletar!"});case 2:return o=e.sent,n=o.value,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))()},remove:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var o,n,r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.confirmRemove();case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return t.loading(!0),e.prev=6,e.next=9,t.$axios.delete("/notes/".concat(t.data.id));case 9:o=e.sent,o.data,t.$swal.fire({toast:!0,type:"success",text:"Deletado!",showConfirmButton:!1,timer:3001,position:"top-end"}),t.$emit("action",{type:"delete",data:t.data}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(6),(n=e.t0.response)&&(r=n.status,c=n.statusText,n.data,t.$swal.fire({title:r,type:"error",text:c,timer:5e3}));case 19:return e.prev=19,t.loading(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[6,15,19,22]])})))()},loading:function(t){this.is_loading=t,this.$emit("loading",t)},reset:function(){this.edit=this.$helper.tryCopy(this.data,this.fields)}}},d=(o(254),Object(c.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container",style:"background: "+(t.edit.color||"#fff")},[o("TextareaAutosize",{staticClass:"title-note",attrs:{placeholder:"Título...","min-height":55,disabled:t.is_loading},model:{value:t.edit.title,callback:function(e){t.$set(t.edit,"title",e)},expression:"edit.title"}}),t._v(" "),o("TextareaAutosize",{ref:"text",staticClass:"text-note",attrs:{placeholder:"Anote aqui...","min-height":250,disabled:t.is_loading},model:{value:t.edit.text,callback:function(e){t.$set(t.edit,"text",e)},expression:"edit.text"}}),t._v(" "),o("div",{staticClass:"form-footer"},[o("div",[o("b-form-checkbox",{attrs:{id:"checkbox-1",name:"checkbox-1",value:!0,"unchecked-value":!1,disabled:t.is_loading},model:{value:t.edit.is_public,callback:function(e){t.$set(t.edit,"is_public",e)},expression:"edit.is_public"}},[t._v("Público")]),t._v(" "),o("colors-select",{attrs:{disabled:t.is_loading,colors:t.colors},model:{value:t.edit.color,callback:function(e){t.$set(t.edit,"color",e)},expression:"edit.color"}})],1),t._v(" "),o("div",[t.data?o("b-button",{attrs:{disabled:t.is_loading,variant:"danger"},on:{click:function(e){return t.remove()}}},[t._v("Deletar")]):t._e(),t._v(" "),o("b-button",{attrs:{disabled:t.is_loading,variant:"success"},on:{click:function(e){return t.save()}}},[t._v("Salvar")])],1)])],1)}),[],!1,null,null,null));e.a=d.exports},264:function(t,e,o){"use strict";o(5),o(3),o(2),o(1),o(4);var n=o(0),r=o(263),c=o(247),l=o(57);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h={components:{NoteForm:r.a,NoteShow:c.a},data:function(){return{show:!1,editing:!1,loading:!1,data:Object}},methods:{edit:function(t){this.data=t,this.show=!0},open:function(){this.editing=!0,this.show=!0,this.data=!1},share:function(){var t=this,e=window.location.origin,o="".concat(e,"/notes/").concat(this.data.id);navigator.clipboard.writeText(o).then((function(){t.$swal.fire({toast:!0,type:"success",text:"Link copiado!",showConfirmButton:!1,timer:3001,position:"top-end"})}))},action:function(t){var e=t.type,data=t.data;this.$emit("action",{type:e,data:data}),this.editing=!1,"delete"===e&&(this.show=!1),this.data=data}},computed:f(f({},Object(l.b)(["loggedInUser"])),{},{checkOwner:function(){return!this.data||this.data.user.id==this.loggedInUser.id}})},v=(o(269),o(35)),component=Object(v.a)(h,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-modal",{attrs:{"no-close-on-backdrop":t.loading,"no-close-on-esc":t.loading,"hide-header-close":t.loading,id:"modal-scoped",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[t.data.is_public?o("b-button",{attrs:{disabled:t.loading,variant:"primary",size:"sm"},on:{click:function(e){return t.share()}}},[o("fa",{staticClass:"icon-brand",attrs:{icon:["fas","share-square"]}})],1):t._e(),t._v(" "),t.checkOwner?o("b-button",{attrs:{disabled:t.loading,variant:t.editing?"danger":"success",size:"sm"},on:{click:function(e){t.editing=!t.editing}}},[o("fa",{staticClass:"icon-brand",attrs:{icon:["fas","edit"]}})],1):t._e(),t._v(" "),o("b-button",{attrs:{disabled:t.loading,variant:"danger",size:"sm"},on:{click:function(e){t.show=!1}}},[o("fa",{staticClass:"icon-brand",attrs:{icon:["fas","times"]}})],1)]},proxy:!0}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[t._v(" "),o("div",{staticClass:"note-modal-body"},[t.editing||!t.data?o("note-form",{ref:"noteForm",attrs:{data:t.data},on:{loading:function(e){return t.loading=e},action:t.action}}):o("note-show",{attrs:{data:t.data},on:{action:t.action}})],1)])}),[],!1,null,null,null);e.a=component.exports},267:function(t,e,o){"use strict";var n=o(251);o.n(n).a},268:function(t,e,o){(e=o(33)(!1)).push([t.i,".note[data-v-1f137684]{width:100%;margin:10px 0}.note .card-body[data-v-1f137684]{padding:0}.note-card-footer[data-v-1f137684]{display:flex;justify-content:space-between;align-items:flex-end}pre[data-v-1f137684]{white-space:pre-wrap;text-align:left;font-family:var(--font-family-sans-serif);color:var(--color);font-size:.8rem;overflow:hidden;margin-bottom:0;font-weight:600}.limit[data-v-1f137684]{max-height:250px}.title[data-v-1f137684]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}",""]),t.exports=e},269:function(t,e,o){"use strict";var n=o(256);o.n(n).a},270:function(t,e,o){(e=o(33)(!1)).push([t.i,".modal-body{padding:0;background:#fff}.modal-content{background:none;border:none}.modal-header{display:flex;justify-content:flex-end;padding:10px 0}.modal-header button{margin-left:10px}.note-modal-footer{width:100%;display:flex;justify-content:space-between;align-items:space-between}",""]),t.exports=e},271:function(t,e,o){"use strict";var n=o(257);o.n(n).a},272:function(t,e,o){(e=o(33)(!1)).push([t.i,".note-card-item{cursor:pointer}",""]),t.exports=e}}]);