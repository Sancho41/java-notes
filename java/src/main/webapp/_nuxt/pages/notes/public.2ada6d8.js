(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{284:function(e,t,r){"use strict";r.r(t);r(47);var n=r(11),o={auth:!1,components:{NoteList:r(262).a},asyncData:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=20,t.next=3,e.$axios.get("/notes/public/",{params:{per_page:r}});case 3:return n=t.sent,o=n.data,o.data,c=o.data,t.abrupt("return",{notes:c.data,current_page:c.current_page,last_page:c.last_page,per_page:r,loading:!1});case 8:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this,button=this.$refs.loadMore;new IntersectionObserver((function(t,r){t.forEach((function(t){t.isIntersecting&&e.loadMore()}))}),{rootMargin:"1000px"}).observe(button)},methods:{loadMore:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.current_page+1>e.last_page)){t.next=2;break}return t.abrupt("return");case 2:return e.loading=!0,t.next=5,e.$axios.get("/notes/public/",{params:{per_page:e.per_page,page:e.current_page+1}});case 5:r=t.sent,n=r.data,data=n.data,data.data.forEach((function(t){e.notes.push(t)})),e.current_page=data.current_page,e.loading=!1;case 12:case"end":return t.stop()}}),t)})))()}}},c=r(35),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container text-center"},[r("div",{staticClass:"cards-container"},[r("note-list",{attrs:{notes:e.notes}})],1),e._v(" "),e.current_page!=e.last_page?r("b-button",{ref:"loadMore",staticClass:"mb-5",attrs:{disabled:e.loading,variant:"primary"},on:{click:e.loadMore}},[e._v(e._s(e.loading?"Carregando...":"Carregar Mais"))]):e._e()],1)}),[],!1,null,null,null);t.default=component.exports}}]);